# Reconnect --- config file
# In this file, you can setup some basic settings for the plugin.

# The current version of this configuration. Do NOT change this value!
# If the plugin uses a more recent config version, this config gets replaced by it
# while a backup of the old config will be kept as "config.old.yml".
version: 10

# This is for configuring the content of the {%dots%} placeholder animation.
# You may use color codes
dots-animation:
  - "&b.&7.."
  - "&7.&b.&7."
  - "&7..&b.&7"

# This is for configuring the timing {%dots%} placeholder animation.
# 1000 = 1 dot per second
# Minimum value is 50
dots-animation-milis: 1000

# The text that should be displayed, when the plugin is trying to reconnect a player.
# Leave empty if you don't wish any title or action bar message to be displayed.
reconnecting-text:
  # You can add animated dots to the reconnecting texts by using the {%dots%} variable.
  title: "&cRestarting{%dots%}"
  subtitle: "&ePlease wait."
  actionbar: "&bYou will be &aautomatically reconnected &bin a few moments"

# The text that should be displayed, when the plugin managed to establish a connection to
# the previous server and now connects the player to it.
# Leave empty if you don't wish any title or action bar message to be displayed.
connecting-text:
  title: "&aReconnecting{%dots%}"
  subtitle: "&ePlease wait."
  actionbar: "&aReconnecting to server{%dots%}"

# The text that should be displayed, when the plugin didn't manage to etablish
# a connection to the previous server and connected the player to the fallback server.
# Leave empty if you don't wish any title or action bar message to be displayed.
failed-text:
  title: "&4Failed"
  subtitle: "&cTry to join again in a few moments."
  actionbar: "&bYou have been moved to the fallback server!"
  kick-message: "&4Reconnection failed. Please try again later."

# The amount of milliseconds the plugin will wait before attempting to check if the server is alive.
# This can be zero, however if you use an automatic restart plugin that kicks players
# reconnect may actually reconnect them before the server shuts down. This may cause unstable behavior
delay-before-trying: 10000

# The amount of milliseconds the plugin will wait between each connection attempt per player - per server
# Depending on server size and hardware having 20+ people reconnect at once can cause issues in the game, plugins and or databases.
# if your server ends up hanging when people are reconnecting this (can) be an indicator that this value is too low
# or that the hardware your server is running is too weak and or plugins/server is badly optimized
# Recommended value is 1000
delay-between-reconnects: 1000

# How much more time should this plugin wait between connections for a connection to finalize before attempting another connect.
# If a connection completes before this delay expires another connection will be allowed.
# If this delay expires the connection will not be effected, this is simply to ensure the server is not overloaded within reason.
# The time it takes this to complete will be deducted from the delay between reconnects 
# A connection is considered finalized when a dimension is sent to the client
connect-finalization-timeout: 2000

# The amount of milliseconds the plugin will wait for a reply from the server, until it
# decides to try again. 
# Cannot be less then delay-between-reconnects + 2000
reconnect-timeout: 4000

# The maximum amount of time the plugin will wait for a successful reconnection to the server
# If this time limit is reached the plugin will first attempt to connect them to your fallback-server otherwise disconnecting him.
# This value cannot be less than delay-before-trying + reconnect-timeout.
# The default value is 120000 (120 seconds) if your server takes longer to restart set this higher.
max-reconnect-time: 120000

# Should the plugin wait for a dimension to be received from the server before concludeing that
# the player is connected.
# Note: this does not 
wait-for-dimension: true

# A List containing all servers that don't allow automatic reconnecting.
ignored-servers: [serverWithNoReconnectsA, serverWithNoReconnectsB]

# This block is necessary for the plugin to differentiate whether a kick happened because of a shutdown or not.
shutdown:  
  # When regex is set to false, the kick message must be equal to the following text if the player should be reconnected to that server. (Formatting codes will be ignored though.)
  # When regex is set to true, the regex must match the kick message if the player should be reconnected to that server.
  # Leaving the text empty will lead the plugin to always reconnect the players, no matter what the actual kick-reason was.

  # You can still use the "ServerReconnectEvent" as a plugin developer to decide on your own whether the user should be reconnected automatically
  # or not.

  text: "((?i)(server closed|server is restarting))+$"
  regex: true